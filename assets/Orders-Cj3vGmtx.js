import{r as x,u as y,c as $,j as e,e as b,d as w,H as O,A as C,I as P,J as v}from"./index-Bj6IjsBP.js";import{J as u,L as H,H as M,p as g}from"./Heading-CiWTgu_3.js";import{L as N}from"./Loading-C3ILP6OL.js";import"./Row-CkZGBLgn.js";const A=x.forwardRef(({bsPrefix:o,className:h,striped:a,bordered:r,borderless:m,hover:n,size:c,variant:d,responsive:s,...p},i)=>{const t=y(o,"table"),j=$(h,t,d&&`${t}-${d}`,c&&`${t}-${c}`,a&&`${t}-${typeof a=="string"?`striped-${a}`:"striped"}`,r&&`${t}-bordered`,m&&`${t}-borderless`,n&&`${t}-hover`),l=e.jsx("table",{...p,className:j,ref:i});if(s){let f=`${t}-responsive`;return typeof s=="string"&&(f=`${f}-${s}`),e.jsx("div",{className:f,children:l})}return l}),B=()=>{const o=b(),{error:h,loading:a,OrderList:r}=w(i=>i.orders),[m,n]=x.useState(!1),[c,d]=x.useState([]),s=()=>{n(!1),d([])},p=i=>{const t=r.find(l=>l.id===i),j=(t==null?void 0:t.items)??[];d(l=>[...l,...j]),n(!0)};return x.useEffect(()=>{const i=o(O());return()=>{i.abort(),o(C())}},[o]),{error:h,loading:a,OrderList:r,showModel:m,selectedProduct:c,handleCloseModel:s,ViewDetailsHandler:p}},R=()=>{const o=b(),{error:h,loading:a,OrderList:r,showModel:m,selectedProduct:n,handleCloseModel:c,ViewDetailsHandler:d}=B();return e.jsxs(e.Fragment,{children:[e.jsxs(u,{show:m,onHide:c,backdrop:"static",children:[e.jsx(u.Header,{closeButton:!0,children:e.jsx(u.Title,{children:"Product Details"})}),e.jsx(u.Body,{children:n.map(s=>e.jsx(H,{title:s.title,price:s.price,img:s.img,quantity:s.quantity,direction:"column",style:{marginBottom:"20px"}},s.id))})]}),e.jsx(M,{title:"My Order"}),e.jsxs(N,{loading:a,error:h,type:"table",children:[e.jsxs(A,{hover:!0,striped:!0,bordered:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order Number"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Total Price"})]})}),e.jsx("tbody",{children:Array.isArray(r)&&(r==null?void 0:r.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{children:["#",s.id]}),e.jsxs("td",{className:"flex-column flex-md-row d-flex align-items-satrt gap-2 ",children:[s.items.length," item(s)"," / ",e.jsx(g,{onClick:()=>d(s.id),style:{cursor:"pointer"},variant:"success",size:"sm",className:"btn-sm-text",children:"Product Details"}),e.jsx(g,{onClick:()=>o(P(s.id)),style:{cursor:"pointer"},variant:"danger",size:"sm",className:"btn-sm-text",children:"Remove Order"})]}),e.jsx("td",{children:s.subtotal.toFixed(2)})]},s.id)))})]}),r.length>0&&e.jsx(g,{variant:"danger",onClick:()=>o(v()),children:"ClearAll"})]})]})};export{R as default};
